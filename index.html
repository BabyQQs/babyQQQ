<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéµ Â§öÂ§öËã±ËØ≠‰πêÂõ≠ - Super Simple Songs 0-3Â≤ÅÂêØËíô</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --sps-blue: #1E90FF;
            --sps-dark-blue: #104E8B;
            --sps-yellow: #FFD93D;
            --sps-orange: #FF6B35;
            --sps-green: #6BCB77;
            --sps-pink: #FF6B9D;
            --sps-purple: #9B59B6;
            --bg-light: #FFF9F0;
            --bg-gradient: linear-gradient(135deg, #FFE9F0 0%, #E8F6FF 50%, #F0FFF0 100%);
        }

        body {
            font-family: 'Comic Sans MS', 'PingFang SC', cursive, sans-serif;
            background: var(--bg-gradient);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Floating Background */
        .bg-elements {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }

        .bg-element {
            position: absolute;
            font-size: 35px;
            opacity: 0.12;
            animation: float 8s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-25px) rotate(10deg); }
        }

        /* Header with DuoDuo Character */
        .header {
            background: linear-gradient(135deg, #FF9A9E 0%, #FECFEF 50%, #E0C3FC 100%);
            color: white;
            padding: 12px 20px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: 'üåà';
            position: absolute;
            bottom: -30px;
            right: -10px;
            font-size: 150px;
            opacity: 0.08;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 25px;
            max-width: 1000px;
            margin: 0 auto;
        }

        /* DuoDuo Character - Cute Kid Style */
        .duoduo-container {
            width: 100px;
            height: 100px;
            flex-shrink: 0;
            position: relative;
        }

        .duoduo {
            width: 95px;
            height: 95px;
            position: relative;
            animation: bounce 1.5s ease-in-out infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-10px) scale(1.02); }
        }

        /* DuoDuo's Hair */
        .duoduo-hair {
            width: 80px;
            height: 35px;
            background: linear-gradient(180deg, #8B4513, #654321);
            border-radius: 50px 50px 20px 20px;
            position: absolute;
            top: 5px;
            left: 7px;
            z-index: 4;
        }

        .duoduo-hair::before {
            content: '';
            position: absolute;
            top: -8px;
            left: 10px;
            width: 15px;
            height: 15px;
            background: #8B4513;
            border-radius: 50%;
        }

        .duoduo-hair::after {
            content: '';
            position: absolute;
            top: -5px;
            right: 15px;
            width: 12px;
            height: 12px;
            background: #8B4513;
            border-radius: 50%;
        }

        /* DuoDuo's Blue Hat - Special Style */
        .duoduo-hat {
            width: 55px;
            height: 25px;
            background: linear-gradient(180deg, #4FC3F7, #29B6F6);
            border-radius: 55px 55px 0 0;
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            z-index: 5;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .duoduo-hat::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 65px;
            height: 12px;
            background: linear-gradient(90deg, #29B6F6, #4FC3F7, #29B6F6);
            border-radius: 6px;
        }

        /* DuoDuo's Hat Decoration */
        .duoduo-hat::before {
            content: '‚≠ê';
            position: absolute;
            top: -5px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 14px;
        }

        /* DuoDuo's Head - Pinkish skin */
        .duoduo-head {
            width: 75px;
            height: 70px;
            background: linear-gradient(145deg, #FFE0B2, #FFCC80);
            border-radius: 50%;
            position: absolute;
            top: 18px;
            left: 10px;
            z-index: 2;
            box-shadow: inset -2px -2px 5px rgba(0,0,0,0.05);
        }

        /* Eyes - Big and cute */
        .duoduo-eyes {
            position: absolute;
            top: 28px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
        }

        .duoduo-eye {
            width: 12px;
            height: 14px;
            background: #333;
            border-radius: 50%;
            position: relative;
            animation: blink 4s infinite;
        }

        @keyframes blink {
            0%, 45%, 55%, 100% { transform: scaleY(1); }
            50% { transform: scaleY(0.1); }
        }

        .duoduo-eye::after {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 4px;
            height: 4px;
            background: white;
            border-radius: 50%;
        }

        /* Eyebrows */
        .duoduo-eyebrow {
            position: absolute;
            top: 22px;
            width: 12px;
            height: 3px;
            background: #8B4513;
            border-radius: 2px;
        }

        .duoduo-eyebrow.left {
            left: 24px;
            transform: rotate(-10deg);
        }

        .duoduo-eyebrow.right {
            right: 24px;
            transform: rotate(10deg);
        }

        /* Rosy Cheeks */
        .duoduo-cheeks {
            position: absolute;
            top: 42px;
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 0 5px;
        }

        .duoduo-cheek {
            width: 14px;
            height: 8px;
            background: linear-gradient(135deg, #FFAB91, #FF8A65);
            border-radius: 50%;
            opacity: 0.7;
        }

        /* Big Smile */
        .duoduo-mouth {
            width: 24px;
            height: 14px;
            border-bottom: 4px solid #333;
            border-radius: 0 0 24px 24px;
            position: absolute;
            top: 50px;
            left: 50%;
            transform: translateX(-50%);
            background: #FF7043;
        }

        /* Blue Overalls - DuoDuo Style */
        .duoduo-body {
            width: 85px;
            height: 30px;
            background: linear-gradient(180deg, #42A5F5, #1976D2);
            border-radius: 10px;
            position: absolute;
            bottom: 0;
            left: 5px;
            z-index: 1;
            box-shadow: 0 3px 8px rgba(0,0,0,0.15);
        }

        /* Suspenders */
        .duoduo-suspender {
            width: 12px;
            height: 25px;
            background: linear-gradient(180deg, #42A5F5, #1976D2);
            position: absolute;
            top: -15px;
        }

        .duoduo-suspender.left {
            left: 18px;
            transform: rotate(-8deg);
        }

        .duoduo-suspender.right {
            right: 18px;
            transform: rotate(8deg);
        }

        /* Yellow Shirt */
        .duoduo-shirt {
            width: 55px;
            height: 18px;
            background: linear-gradient(145deg, #FFE082, #FFD54F);
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 5px;
            z-index: 0;
        }

        /* Little Bow Tie */
        .duoduo-bow {
            position: absolute;
            top: 35px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 6;
        }

        .duoduo-bow::before,
        .duoduo-bow::after {
            content: '';
            position: absolute;
            width: 12px;
            height: 8px;
            background: #FF5252;
            border-radius: 3px;
        }

        .duoduo-bow::before {
            left: -10px;
            transform: rotate(-15deg);
        }

        .duoduo-bow::after {
            right: -10px;
            transform: rotate(15deg);
        }

        .duoduo-bow-center {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #D32F2F;
            border-radius: 50%;
            left: -3px;
            top: 1px;
        }

        /* Logo Text */
        .logo-text {
            text-align: left;
        }

        .logo-text h1 {
            font-size: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            margin-bottom: 3px;
        }

        .logo-text p {
            font-size: 13px;
            opacity: 0.95;
        }

        /* Navigation */
        .nav {
            display: flex;
            justify-content: center;
            gap: 8px;
            padding: 12px;
            flex-wrap: wrap;
            background: white;
            box-shadow: 0 3px 15px rgba(0,0,0,0.08);
        }

        .nav-btn {
            padding: 10px 18px;
            border-radius: 20px;
            border: none;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-btn:hover {
            transform: translateY(-2px) scale(1.05);
        }

        .nav-btn.active {
            transform: scale(1.05);
        }

        .nav-btn:nth-child(1) { background: var(--sps-orange); color: white; }
        .nav-btn:nth-child(2) { background: var(--sps-blue); color: white; }
        .nav-btn:nth-child(3) { background: var(--sps-green); color: white; }
        .nav-btn:nth-child(4) { background: var(--sps-yellow); color: #333; }
        .nav-btn:nth-child(5) { background: var(--sps-pink); color: white; }

        /* Main Content */
        .main {
            padding: 15px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Carl Banner for 0-3 years */
        .duoduo-banner {
            background: linear-gradient(135deg, var(--sps-blue) 0%, #5DADE2 100%);
            border-radius: 25px;
            padding: 20px 25px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 20px;
            box-shadow: 0 8px 30px rgba(30, 144, 255, 0.25);
        }

        .duoduo-banner .duoduo {
            width: 80px;
            height: 80px;
            flex-shrink: 0;
        }

        .banner-content {
            flex: 1;
            color: white;
        }

        .banner-content h3 {
            font-size: 22px;
            margin-bottom: 5px;
        }

        .banner-content p {
            font-size: 14px;
            opacity: 0.95;
        }

        /* Baby Cards - Larger for touch */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
        }

        .card {
            background: white;
            border-radius: 22px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 6px 25px rgba(0,0,0,0.08);
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--sps-orange), var(--sps-blue), var(--sps-yellow));
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 35px rgba(0,0,0,0.12);
        }

        .card-icon {
            font-size: 60px;
            margin-bottom: 10px;
            display: block;
        }

        .card-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .card-en {
            font-size: 14px;
            color: var(--sps-purple);
            font-weight: bold;
        }

        /* Video Section */
        .section-title {
            font-size: 22px;
            text-align: center;
            margin: 25px 0 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .section-title::before,
        .section-title::after {
            content: '‚òÖ';
            font-size: 18px;
        }

        /* Filter Bar */
        .filter-bar {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 18px;
        }

        .filter-btn {
            padding: 8px 16px;
            border-radius: 18px;
            border: 2px solid var(--sps-blue);
            background: white;
            color: var(--sps-blue);
            font-size: 13px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .filter-btn.active, .filter-btn:hover {
            background: var(--sps-blue);
            color: white;
        }

        /* Baby-friendly Videos */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 18px;
        }

        .video-card {
            background: white;
            border-radius: 22px;
            overflow: hidden;
            box-shadow: 0 6px 25px rgba(0,0,0,0.08);
            transition: all 0.3s;
        }

        .video-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 35px rgba(0,0,0,0.12);
        }

        .video-thumb {
            height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 65px;
            position: relative;
        }

        .play-overlay {
            position: absolute;
            inset: 0;
            background: rgba(0,0,0,0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .video-card:hover .play-overlay {
            opacity: 1;
        }

        .play-btn {
            width: 55px;
            height: 55px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            transform: scale(0.9);
            transition: transform 0.3s;
        }

        .video-card:hover .play-btn {
            transform: scale(1);
        }

        .video-info {
            padding: 15px;
        }

        .video-title {
            font-size: 15px;
            font-weight: bold;
            margin-bottom: 6px;
        }

        .video-meta {
            display: flex;
            gap: 12px;
            font-size: 12px;
            color: #888;
            margin-bottom: 10px;
        }

        .video-tags {
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
        }

        .tag {
            padding: 4px 10px;
            background: var(--bg-light);
            border-radius: 12px;
            font-size: 11px;
            color: var(--sps-blue);
        }

        /* Dialogue Section */
        .dialogue-container {
            background: white;
            border-radius: 25px;
            padding: 20px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.08);
            max-width: 700px;
            margin: 0 auto;
        }

        .dialogue-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            padding-bottom: 12px;
            border-bottom: 3px dashed var(--sps-yellow);
        }

        .dialogue-avatar {
            width: 55px;
            height: 55px;
        }

        .dialogue-title h3 {
            font-size: 18px;
        }

        .dialogue-title p {
            font-size: 12px;
            color: #888;
        }

        .dialogue-messages {
            min-height: 250px;
            max-height: 350px;
            overflow-y: auto;
            padding: 15px;
            background: var(--bg-light);
            border-radius: 18px;
            margin-bottom: 15px;
        }

        .message {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 15px;
        }

        .message.ai {
            flex-direction: row;
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 42px;
            height: 42px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            flex-shrink: 0;
        }

        .message.ai .message-avatar {
            background: var(--sps-blue);
        }

        .message.user .message-avatar {
            background: var(--sps-yellow);
        }

        .message-content {
            max-width: 78%;
        }

        .message-text {
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 14px;
            line-height: 1.5;
        }

        .message.ai .message-text {
            background: linear-gradient(135deg, var(--sps-blue), #5DADE2);
            color: white;
            border-bottom-left-radius: 5px;
        }

        .message.user .message-text {
            background: var(--sps-yellow);
            color: #333;
            border-bottom-right-radius: 5px;
        }

        .message-image {
            margin-top: 10px;
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .message-img {
            width: 55px;
            height: 55px;
            background: white;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 26px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .message-img:hover {
            transform: scale(1.1);
        }

        .message-img span {
            font-size: 9px;
            color: var(--sps-blue);
            font-weight: bold;
        }

        /* Visual Cards for Dialogue */
        .visual-cards {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 12px;
        }

        .visual-card {
            width: 90px;
            background: white;
            border-radius: 12px;
            padding: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .visual-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .visual-card .emoji {
            font-size: 36px;
            margin-bottom: 5px;
        }

        .visual-card .word {
            font-size: 11px;
            font-weight: bold;
            color: var(--sps-blue);
        }

        .visual-card .label {
            font-size: 9px;
            color: #888;
        }

        /* Video Card in Dialogue */
        .video-recommend {
            margin-top: 12px;
            background: linear-gradient(135deg, #FF6B6B, #FFD93D);
            border-radius: 12px;
            padding: 10px 15px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .video-recommend:hover {
            transform: scale(1.02);
        }

        .video-recommend .thumb {
            width: 50px;
            height: 50px;
            background: white;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .video-recommend .info {
            flex: 1;
            color: white;
        }

        .video-recommend .title {
            font-weight: bold;
            font-size: 13px;
        }

        .video-recommend .desc {
            font-size: 11px;
            opacity: 0.9;
        }

        .video-recommend .play-icon {
            width: 35px;
            height: 35px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .voice-btn {
            background: rgba(255,255,255,0.25);
            border: none;
            padding: 5px 10px;
            border-radius: 12px;
            font-size: 11px;
            cursor: pointer;
            margin-top: 6px;
            display: inline-flex;
            align-items: center;
            gap: 4px;
            color: white;
        }

        /* Quick Replies - Larger for baby touch */
        .quick-replies {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .quick-btn {
            padding: 10px 16px;
            background: linear-gradient(135deg, var(--sps-orange), #FF8C42);
            color: white;
            border: none;
            border-radius: 18px;
            font-size: 13px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quick-btn:hover {
            transform: scale(1.05);
        }

        .input-area {
            display: flex;
            gap: 10px;
        }

        .input-area input {
            flex: 1;
            padding: 14px 20px;
            border-radius: 22px;
            border: 2px solid #eee;
            font-size: 14px;
            outline: none;
        }

        .input-area input:focus {
            border-color: var(--sps-blue);
        }

        .send-btn {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--sps-orange), #FF8C42);
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .send-btn:hover {
            transform: scale(1.1);
        }

        /* Progress Section */
        .progress-container {
            background: white;
            border-radius: 25px;
            padding: 20px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.08);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 18px;
        }

        .progress-title h3 {
            font-size: 20px;
        }

        .stars-container {
            display: flex;
            gap: 5px;
        }

        .star {
            font-size: 26px;
            color: #ddd;
            transition: all 0.3s;
        }

        .star.filled {
            color: var(--sps-yellow);
            transform: scale(1.1);
        }

        .progress-bar-container {
            background: #f0f0f0;
            border-radius: 12px;
            height: 20px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--sps-blue), var(--sps-green));
            border-radius: 12px;
            transition: width 1s ease;
        }

        .progress-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: var(--bg-light);
            padding: 15px;
            border-radius: 18px;
            text-align: center;
        }

        .stat-value {
            font-size: 26px;
            font-weight: bold;
            background: linear-gradient(135deg, var(--sps-pink), var(--sps-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-label {
            font-size: 12px;
            color: #888;
        }

        /* Category Progress */
        .category-progress {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 12px;
        }

        .cat-card {
            background: var(--bg-light);
            padding: 15px;
            border-radius: 18px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .cat-icon {
            font-size: 32px;
            width: 48px;
            height: 48px;
            background: white;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cat-info {
            flex: 1;
        }

        .cat-name {
            font-weight: bold;
            margin-bottom: 6px;
            font-size: 14px;
        }

        .cat-bar {
            background: #ddd;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
        }

        .cat-fill {
            height: 100%;
            border-radius: 4px;
        }

        .cat-fill.easy { background: var(--sps-green); }
        .cat-fill.medium { background: var(--sps-yellow); }
        .cat-fill.hard { background: var(--sps-orange); }

        .cat-percent {
            font-size: 15px;
            font-weight: bold;
            color: var(--sps-blue);
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 20px;
            color: #888;
            font-size: 13px;
        }

        /* Responsive */
        @media (max-width: 600px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }

            .logo-text {
                text-align: center;
            }

            .duoduo-banner {
                flex-direction: column;
                text-align: center;
            }

            .progress-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .cards-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 28px;
            padding: 25px;
            max-width: 420px;
            width: 92%;
            text-align: center;
            animation: modalIn 0.4s ease;
        }

        .modal-video {
            width: 100%;
            max-width: 600px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }

        .modal-video iframe {
            width: 100%;
            aspect-ratio: 16/9;
            border: none;
        }

        @keyframes modalIn {
            from { transform: scale(0.85); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .modal-image {
            font-size: 90px;
            margin-bottom: 15px;
        }

        .modal-word-en {
            font-size: 36px;
            font-weight: bold;
            color: var(--sps-blue);
            margin-bottom: 8px;
        }

        .modal-word-cn {
            font-size: 20px;
            color: #666;
            margin-bottom: 6px;
        }

        .modal-phonetic {
            font-size: 16px;
            color: #999;
            font-style: italic;
            margin-bottom: 20px;
        }

        .speak-btn {
            background: linear-gradient(135deg, var(--sps-blue), #5DADE2);
            color: white;
            border: none;
            padding: 14px 35px;
            border-radius: 28px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .speak-btn:hover {
            transform: scale(1.05);
        }

        .modal-close {
            margin-top: 15px;
            padding: 10px 25px;
            background: #f5f5f5;
            color: #666;
            border: none;
            border-radius: 18px;
            font-size: 13px;
            cursor: pointer;
        }

        /* Celebration */
        .celebration {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 2000;
        }

        .confetti {
            position: absolute;
            width: 12px;
            height: 12px;
            animation: confettiFall 2.5s ease-out forwards;
        }

        @keyframes confettiFall {
            0% {
                transform: translateY(-80px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(540deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Floating Background -->
    <div class="bg-elements">
        <div class="bg-element" style="top: 15%; left: 8%; animation-delay: 0s;">‚≠ê</div>
        <div class="bg-element" style="top: 65%; left: 88%; animation-delay: 1s;">üéµ</div>
        <div class="bg-element" style="top: 35%; left: 85%; animation-delay: 2s;">üåü</div>
        <div class="bg-element" style="top: 75%; left: 12%; animation-delay: 0.7s;">üé∂</div>
        <div class="bg-element" style="top: 20%; left: 55%; animation-delay: 1.5s;">‚ú®</div>
    </div>

    <!-- Header with Authentic Carl -->
    <header class="header">
        <div class="header-content">
            <div class="duoduo-container">
                <div class="duoduo">
                    <!-- Authentic SPS Blue Hat -->
                    <div class="duoduo-hat"></div>
                    <!-- Yellow Head -->
                    <div class="duoduo-head">
                        <div class="duoduo-eyes">
                            <div class="duoduo-eye"></div>
                            <div class="duoduo-eye"></div>
                        </div>
                        <div class="duoduo-cheeks">
                            <div class="duoduo-cheek"></div>
                            <div class="duoduo-cheek"></div>
                        </div>
                        <div class="duoduo-mouth"></div>
                    </div>
                    <!-- Suspenders -->
                    <div class="duoduo-suspender left"></div>
                    <div class="duoduo-suspender right"></div>
                    <!-- Blue Overalls -->
                    <div class="duoduo-body"></div>
                    <!-- Yellow Shirt -->
                    <div class="duoduo-shirt"></div>
                </div>
            </div>
            <div class="logo-text">
                <h1>üéµ Â§öÂ§öËã±ËØ≠‰πêÂõ≠</h1>
                <p>Super Simple Songs ¬∑ 0-3Â≤ÅËã±ËØ≠ÂêØËíô</p>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="nav">
        <button class="nav-btn active" onclick="showTab('words')">üìö ÂçïËØç</button>
        <button class="nav-btn" onclick="showTab('videos')">üé¨ Âä®Áîª</button>
        <button class="nav-btn" onclick="showTab('dialogue')">üí¨ ÂØπËØù</button>
        <button class="nav-btn" onclick="showTab('songs')">üéµ Ê≠åÊõ≤</button>
        <button class="nav-btn" onclick="showTab('addword')">‚ûï Ê∑ªÂä†</button>
        <button class="nav-btn" onclick="showTab('progress')">üèÜ ÊàêÂ∞±</button>
    </nav>

    <!-- Main Content -->
    <main class="main">
        <!-- Words Tab -->
        <div class="tab-content active" id="words">
            <!-- Carl Banner -->
            <div class="duoduo-banner">
                <div class="duoduo">
                    <div class="duoduo-hat"></div>
                    <div class="duoduo-head">
                        <div class="duoduo-eyes">
                            <div class="duoduo-eye"></div>
                            <div class="duoduo-eye"></div>
                        </div>
                        <div class="duoduo-cheeks">
                            <div class="duoduo-cheek"></div>
                            <div class="duoduo-cheek"></div>
                        </div>
                        <div class="duoduo-mouth"></div>
                    </div>
                    <div class="duoduo-suspender left"></div>
                    <div class="duoduo-suspender right"></div>
                    <div class="duoduo-body"></div>
                    <div class="duoduo-shirt"></div>
                </div>
                <div class="banner-content">
                    <h3>üë∂ Âíå Carl Â≠¶ÂçïËØç</h3>
                    <p>ÁÇπÂáªÂç°ÁâáÔºåÂê¨ Carl ËØªÂçïËØçÔºÅÁÆÄÂçïÂèàÊúâË∂£ÔºÅ</p>
                </div>
            </div>

            <div class="section-title">üåü ÊúÄÂü∫Á°ÄËØçÊ±áÔºà0-3Â≤ÅÔºâ</div>

            <div class="cards-grid">
                <!-- Very Basic Words for Babies -->
                <div class="card" onclick="showWord('mommy', 'Â¶àÂ¶à', 'üë©', '/Ààm…ími/')">
                    <span class="card-icon">üë©</span>
                    <div class="card-title">Â¶àÂ¶à</div>
                    <div class="card-en">Mommy</div>
                </div>

                <div class="card" onclick="showWord('daddy', 'Áà∏Áà∏', 'üë®', '/Ààd√¶di/')">
                    <span class="card-icon">üë®</span>
                    <div class="card-title">Áà∏Áà∏</div>
                    <div class="card-en">Daddy</div>
                </div>

                <div class="card" onclick="showWord('baby', 'ÂÆùÂÆù', 'üë∂', '/Ààbe…™bi/')">
                    <span class="card-icon">üë∂</span>
                    <div class="card-title">ÂÆùÂÆù</div>
                    <div class="card-en">Baby</div>
                </div>

                <div class="card" onclick="showWord('milk', 'Â•∂Â•∂/ÁâõÂ•∂', 'ü•õ', '/m…™lk/')">
                    <span class="card-icon">ü•õ</span>
                    <div class="card-title">Â•∂Â•∂</div>
                    <div class="card-en">Milk</div>
                </div>

                <div class="card" onclick="showWord('apple', 'ËãπÊûú', 'üçé', '/Àà√¶p.…ôl/')">
                    <span class="card-icon">üçé</span>
                    <div class="card-title">ËãπÊûú</div>
                    <div class="card-en">Apple</div>
                </div>

                <div class="card" onclick="showWord('dog', 'ÁãóÁãó', 'üê∂', '/d…í…°/')">
                    <span class="card-icon">üê∂</span>
                    <div class="card-title">ÁãóÁãó</div>
                    <div class="card-en">Dog</div>
                </div>

                <div class="card" onclick="showWord('cat', 'Áå´Âí™', 'üê±', '/k√¶t/')">
                    <span class="card-icon">üê±</span>
                    <div class="card-title">Áå´Âí™</div>
                    <div class="card-en">Cat</div>
                </div>

                <div class="card" onclick="showWord('hello', '‰Ω†Â•Ω', 'üëã', '/h…ôÀàl…ô ä/')">
                    <span class="card-icon">üëã</span>
                    <div class="card-title">‰Ω†Â•Ω</div>
                    <div class="card-en">Hello</div>
                </div>

                <div class="card" onclick="showWord('bye bye', 'ÂÜçËßÅ', 'üëã', '/ba…™ ba…™/')">
                    <span class="card-icon">üëã</span>
                    <div class="card-title">ÂÜçËßÅ</div>
                    <div class="card-en">Bye Bye</div>
                </div>

                <div class="card" onclick="showWord('yes', 'ÊòØÁöÑ', 'üëç', '/jes/')">
                    <span class="card-icon">üëç</span>
                    <div class="card-title">ÊòØÁöÑ</div>
                    <div class="card-en">Yes</div>
                </div>

                <div class="card" onclick="showWord('no', '‰∏çË¶Å', '‚úã', '/n…ô ä/')">
                    <span class="card-icon">‚úã</span>
                    <div class="card-title">‰∏çË¶Å</div>
                    <div class="card-en">No</div>
                </div>

                <div class="card" onclick="showWord('ball', 'ÁêÉ', '‚öΩ', '/b…îÀêl/')">
                    <span class="card-icon">‚öΩ</span>
                    <div class="card-title">ÁêÉ</div>
                    <div class="card-en">Ball</div>
                </div>
            </div>
        </div>

        <!-- Videos Tab - Super Simple Songs -->
        <div class="tab-content" id="videos">
            <div class="section-title">üé¨ Super Simple Songs Âä®Áîª</div>

            <div class="filter-bar">
                <button class="filter-btn active">ÂÖ®ÈÉ®</button>
                <button class="filter-btn">üê§ Âä®Áâ©</button>
                <button class="filter-btn">üéµ Âä®‰Ωú</button>
                <button class="filter-btn">üëã ÈóÆÂÄô</button>
                <button class="filter-btn">üåô Áù°Ââç</button>
                <button class="filter-btn">üé® È¢úËâ≤</button>
            </div>

            <div class="video-grid">
                <!-- Authentic Super Simple Songs -->
                <div class="video-card" onclick="playVideo('ü¶Å The Lion Song ÁãÆÂ≠ê‰πãÊ≠å', 'https://www.youtube.com/embed/g3t2fDn4_aQ')">
                    <div class="video-thumb" style="background: linear-gradient(135deg, #FFD93D, #FF6B6B);">
                        ü¶Å
                        <div class="play-overlay">
                            <div class="play-btn">‚ñ∂</div>
                        </div>
                    </div>
                    <div class="video-info">
                        <div class="video-title">ü¶Å The Lion Song ÁãÆÂ≠ê‰πãÊ≠å</div>
                        <div class="video-meta">
                            <span>‚è±Ô∏è 3:15</span>
                            <span>üìä ÂÖ•Èó®</span>
                        </div>
                        <div class="video-tags">
                            <span class="tag">Âä®Áâ©</span>
                            <span class="tag">Âä®‰Ωú</span>
                            <span class="tag">ÁªèÂÖ∏</span>
                        </div>
                    </div>
                </div>

                <div class="video-card" onclick="playVideo('üêõ The Butterfly Ëù¥Ëù∂Ê≠å', 'https://www.youtube.com/embed/x_q4cKjd_0Y')">
                    <div class="video-thumb" style="background: linear-gradient(135deg, #4ECDC4, #55EFC4);">
                        üêõ
                        <div class="play-overlay">
                            <div class="play-btn">‚ñ∂</div>
                        </div>
                    </div>
                    <div class="video-info">
                        <div class="video-title">üêõ The Butterfly Ëù¥Ëù∂Ê≠å</div>
                        <div class="video-meta">
                            <span>‚è±Ô∏è 3:30</span>
                            <span>üìä ÂÖ•Èó®</span>
                        </div>
                        <div class="video-tags">
                            <span class="tag">Âä®Áâ©</span>
                            <span class="tag">ÁîüÂëΩÂë®Êúü</span>
                        </div>
                    </div>
                </div>

                <div class="video-card" onclick="playVideo('üõÅ Bath Song Ê¥óÊæ°Ê≠å', 'https://www.youtube.com/embed/o1bLqkL2eGw')">
                    <div class="video-thumb" style="background: linear-gradient(135deg, #A29BFE, #FF6B6B);">
                        üõÅ
                        <div class="play-overlay">
                            <div class="play-btn">‚ñ∂</div>
                        </div>
                    </div>
                    <div class="video-info">
                        <div class="video-title">üõÅ Bath Song Ê¥óÊæ°Ê≠å</div>
                        <div class="video-meta">
                            <span>‚è±Ô∏è 3:45</span>
                            <span>üìä ÂÖ•Èó®</span>
                        </div>
                        <div class="video-tags">
                            <span class="tag">Êó•Â∏∏</span>
                            <span class="tag">Âä®‰Ωú</span>
                        </div>
                    </div>
                </div>

                <div class="video-card" onclick="playVideo('üåô Good Night ÊôöÂÆâÊ≠å', 'https://www.youtube.com/embed/h5p-lM6c1jQ')">
                    <div class="video-thumb" style="background: linear-gradient(135deg, #74B9FF, #A29BFE);">
                        üåô
                        <div class="play-overlay">
                            <div class="play-btn">‚ñ∂</div>
                        </div>
                    </div>
                    <div class="video-info">
                        <div class="video-title">üåô Good Night ÊôöÂÆâÊ≠å</div>
                        <div class="video-meta">
                            <span>‚è±Ô∏è 3:00</span>
                            <span>üìä ÂÖ•Èó®</span>
                        </div>
                        <div class="video-tags">
                            <span class="tag">Áù°Ââç</span>
                            <span class="tag">Ê∏©Êüî</span>
                        </div>
                    </div>
                </div>

                <div class="video-card" onclick="playVideo('üéÉ Head Shoulders Ë∫´‰ΩìÈÉ®‰Ωç', 'https://www.youtube.com/embed/0LT4W16lB_g')">
                    <div class="video-thumb" style="background: linear-gradient(135deg, #FF6B6B, #FFD93D);">
                        üéÉ
                        <div class="play-overlay">
                            <div class="play-btn">‚ñ∂</div>
                        </div>
                    </div>
                    <div class="video-info">
                        <div class="video-title">üéÉ Head Shoulders Ë∫´‰ΩìÈÉ®‰Ωç</div>
                        <div class="video-meta">
                            <span>‚è±Ô∏è 2:30</span>
                            <span>üìä ÂÖ•Èó®</span>
                        </div>
                        <div class="video-tags">
                            <span class="tag">Ë∫´‰Ωì</span>
                            <span class="tag">Âä®‰Ωú</span>
                            <span class="tag">ÁªèÂÖ∏</span>
                        </div>
                    </div>
                </div>

                <div class="video-card" onclick="playVideo('üéµ If You\'re Happy Âπ∏Á¶èÊ≠å', 'https://www.youtube.com/embed/oX6D1uT9k9k')">
                    <div class="video-thumb" style="background: linear-gradient(135deg, #55EFC4, #4ECDC4);">
                        üéµ
                        <div class="play-overlay">
                            <div class="play-btn">‚ñ∂</div>
                        </div>
                    </div>
                    <div class="video-info">
                        <div class="video-title">üéµ If You're Happy Âπ∏Á¶èÊ≠å</div>
                        <div class="video-meta">
                            <span>‚è±Ô∏è 2:45</span>
                            <span>üìä ÂÖ•Èó®</span>
                        </div>
                        <div class="video-tags">
                            <span class="tag">ÊÉÖÁª™</span>
                            <span class="tag">Âä®‰Ωú</span>
                        </div>
                    </div>
                </div>

                <div class="video-card" onclick="playVideo('üê† The Fish Song Â∞èÈ±ºÊ≠å', 'https://www.youtube.com/embed/JB2iVwGC9bQ')">
                    <div class="video-thumb" style="background: linear-gradient(135deg, #FD79A8, #A29BFE);">
                        üê†
                        <div class="play-overlay">
                            <div class="play-btn">‚ñ∂</div>
                        </div>
                    </div>
                    <div class="video-info">
                        <div class="video-title">üê† The Fish Song Â∞èÈ±ºÊ≠å</div>
                        <div class="video-meta">
                            <span>‚è±Ô∏è 2:15</span>
                            <span>üìä ÂÖ•Èó®</span>
                        </div>
                        <div class="video-tags">
                            <span class="tag">Âä®Áâ©</span>
                            <span class="tag">Ê∞¥‰∏≠</span>
                        </div>
                    </div>
                </div>

                <div class="video-card" onclick="playVideo('‚òÄÔ∏è Morning Song Êó©ÂÆâÊ≠å', 'https://www.youtube.com/embed/c2v1pVdFWIY')">
                    <div class="video-thumb" style="background: linear-gradient(135deg, #00CEC9, #55EFC4);">
                        ‚òÄÔ∏è
                        <div class="play-overlay">
                            <div class="play-btn">‚ñ∂</div>
                        </div>
                    </div>
                    <div class="video-info">
                        <div class="video-title">‚òÄÔ∏è Morning Song Êó©ÂÆâÊ≠å</div>
                        <div class="video-meta">
                            <span>‚è±Ô∏è 2:00</span>
                            <span>üìä ÂÖ•Èó®</span>
                        </div>
                        <div class="video-tags">
                            <span class="tag">Êó©Êô®</span>
                            <span class="tag">Êó•Â∏∏</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Songs Tab - Classic SPS Songs -->
        <div class="tab-content" id="songs">
            <div class="section-title">üéµ ÁªèÂÖ∏ÂÑøÊ≠åÁ≤æÈÄâ</div>

            <div class="filter-bar">
                <button class="filter-btn active">ÂÖ®ÈÉ®</button>
                <button class="filter-btn">üé∂ ÂæãÂä®</button>
                <button class="filter-btn">üî¢ Êï∞Â≠ó</button>
                <button class="filter-btn">üî§ Â≠óÊØç</button>
                <button class="filter-btn">üé≠ ËßíËâ≤</button>
            </div>

            <div class="video-grid">
                <div class="video-card" onclick="playVideo('üî¢ Five Little Ducks ‰∫îÂè™Â∞èÈ∏≠', 'https://www.youtube.com/embed/pP8l1r2e1kQ')">
                    <div class="video-thumb" style="background: linear-gradient(135deg, #E17055, #FF6B6B);">
                        üî¢
                        <div class="play-overlay">
                            <div class="play-btn">‚ñ∂</div>
                        </div>
                    </div>
                    <div class="video-info">
                        <div class="video-title">üî¢ Five Little Ducks ‰∫îÂè™Â∞èÈ∏≠</div>
                        <div class="video-meta">
                            <span>‚è±Ô∏è 3:20</span>
                            <span>üìä ÂÖ•Èó®</span>
                        </div>
                        <div class="video-tags">
                            <span class="tag">Êï∞Â≠ó</span>
                            <span class="tag">Âä®Áâ©</span>
                        </div>
                    </div>
                </div>

                <div class="video-card" onclick="playVideo('üî§ ABC Song Â≠óÊØçÊ≠å', 'https://www.youtube.com/embed/0VkuXAEkybk')">
                    <div class="video-thumb" style="background: linear-gradient(135deg, #6C5CE7, #A29BFE);">
                        üî§
                        <div class="play-overlay">
                            <div class="play-btn">‚ñ∂</div>
                        </div>
                    </div>
                    <div class="video-info">
                        <div class="video-title">üî§ ABC Song Â≠óÊØçÊ≠å</div>
                        <div class="video-meta">
                            <span>‚è±Ô∏è 2:45</span>
                            <span>üìä ÂÖ•Èó®</span>
                        </div>
                        <div class="video-tags">
                            <span class="tag">Â≠óÊØç</span>
                            <span class="tag">ÁªèÂÖ∏</span>
                        </div>
                    </div>
                </div>

                <div class="video-card" onclick="playVideo('üï∑Ô∏è The Itsy Bitsy Spider ËúòËõõÊ≠å', 'https://www.youtube.com/embed/0VkuXAEkybk')">
                    <div class="video-thumb" style="background: linear-gradient(135deg, #00B894, #55EFC4);">
                        üï∑Ô∏è
                        <div class="play-overlay">
                            <div class="play-btn">‚ñ∂</div>
                        </div>
                    </div>
                    <div class="video-info">
                        <div class="video-title">üï∑Ô∏è The Itsy Bitsy Spider ËúòËõõÊ≠å</div>
                        <div class="video-meta">
                            <span>‚è±Ô∏è 2:30</span>
                            <span>üìä ÂÖ•Èó®</span>
                        </div>
                        <div class="video-tags">
                            <span class="tag">ÁªèÂÖ∏</span>
                            <span class="tag">Âä®Áâ©</span>
                        </div>
                    </div>
                </div>

                <div class="video-card" onclick="playVideo('üåà Colors È¢úËâ≤Ê≠å', 'https://www.youtube.com/embed/2Y3KqZ2n5NQ')">
                    <div class="video-thumb" style="background: linear-gradient(135deg, #FDCB6E, #FFE66D);">
                        üåà
                        <div class="play-overlay">
                            <div class="play-btn">‚ñ∂</div>
                        </div>
                    </div>
                    <div class="video-info">
                        <div class="video-title">üåà Colors È¢úËâ≤Ê≠å</div>
                        <div class="video-meta">
                            <span>‚è±Ô∏è 3:00</span>
                            <span>üìä ÂÖ•Èó®</span>
                        </div>
                        <div class="video-tags">
                            <span class="tag">È¢úËâ≤</span>
                            <span class="tag">ËßÜËßâ</span>
                        </div>
                    </div>
                </div>

                <div class="video-card" onclick="playVideo('üêÆ Old McDonald È∫¶ÂÖãÂîêÁ∫≥', 'https://www.youtube.com/embed/L3oOldViIgY')">
                    <div class="video-thumb" style="background: linear-gradient(135deg, #FF7675, #D63031);">
                        üêÆ
                        <div class="play-overlay">
                            <div class="play-btn">‚ñ∂</div>
                        </div>
                    </div>
                    <div class="video-info">
                        <div class="video-title">üêÆ Old McDonald È∫¶ÂÖãÂîêÁ∫≥</div>
                        <div class="video-meta">
                            <span>‚è±Ô∏è 3:45</span>
                            <span>üìä ÂÖ•Èó®</span>
                        </div>
                        <div class="video-tags">
                            <span class="tag">Âä®Áâ©</span>
                            <span class="tag">ÁªèÂÖ∏</span>
                        </div>
                    </div>
                </div>

                <div class="video-card" onclick="playVideo('üöÇ The Train Song ÁÅ´ËΩ¶Ê≠å', 'https://www.youtube.com/embed/j1L4G5e1qJU')">
                    <div class="video-thumb" style="background: linear-gradient(135deg, #74B9FF, #0984E3);">
                        üöÇ
                        <div class="play-overlay">
                            <div class="play-btn">‚ñ∂</div>
                        </div>
                    </div>
                    <div class="video-info">
                        <div class="video-title">üöÇ The Train Song ÁÅ´ËΩ¶Ê≠å</div>
                        <div class="video-meta">
                            <span>‚è±Ô∏è 2:45</span>
                            <span>üìä ÂÖ•Èó®</span>
                        </div>
                        <div class="video-tags">
                            <span class="tag">‰∫§ÈÄöÂ∑•ÂÖ∑</span>
                            <span class="tag">Â£∞Èü≥</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add Word Tab -->
        <div class="tab-content" id="addword">
            <div class="section-title">‚ûï Ê∑ªÂä†Êñ∞ÂçïËØç</div>

            <div class="dialogue-container">
                <div class="dialogue-header">
                    <div class="dialogue-avatar">
                        <div class="duoduo" style="width: 100%; height: 100%;">
                            <div class="duoduo-hat"></div>
                            <div class="duoduo-head">
                                <div class="duoduo-eyes">
                                    <div class="duoduo-eye"></div>
                                    <div class="duoduo-eye"></div>
                                </div>
                                <div class="duoduo-cheeks">
                                    <div class="duoduo-cheek"></div>
                                    <div class="duoduo-cheek"></div>
                                </div>
                                <div class="duoduo-mouth"></div>
                            </div>
                            <div class="duoduo-suspender left"></div>
                            <div class="duoduo-suspender right"></div>
                            <div class="duoduo-body"></div>
                            <div class="duoduo-shirt"></div>
                        </div>
                    </div>
                    <div class="dialogue-title">
                        <h3>üåà Â§öÂ§ö ËÄÅÂ∏à</h3>
                        <p>ËæìÂÖ•‰∏≠ÊñáÔºåËá™Âä®ÁîüÊàêËã±ËØ≠ÂçïËØçÂç°Áâá</p>
                    </div>
                </div>

                <div style="background: var(--bg-light); padding: 20px; border-radius: 18px; margin-bottom: 20px;">
                    <h4 style="margin-bottom: 15px; color: var(--sps-blue);">üìù Ê∑ªÂä†Êñ∞ÂçïËØç</h4>

                    <div style="display: flex; gap: 15px; flex-wrap: wrap; margin-bottom: 15px;">
                        <div style="flex: 1; min-width: 200px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: bold; color: #666;">‰∏≠ÊñáËØçËØ≠</label>
                            <input type="text" id="chineseWord" placeholder="‰æãÂ¶ÇÔºöËãπÊûú„ÄÅÊ±ΩËΩ¶„ÄÅÂ∞èÁå´"
                                style="width: 100%; padding: 14px 18px; border-radius: 15px; border: 2px solid var(--sps-blue); font-size: 16px; outline: none;"
                                oninput="autoGenerateWord()">
                        </div>
                        <div style="flex: 1; min-width: 200px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: bold; color: #666;">ÈÄâÊã©ÂõæÁâá</label>
                            <div id="emojiSelector" style="display: flex; gap: 8px; flex-wrap: wrap;">
                                <!-- Emoji picker will be generated here -->
                            </div>
                        </div>
                    </div>

                    <div id="autoGenHint" style="text-align: center; padding: 10px; color: var(--sps-blue); font-size: 14px; font-weight: bold;">
                        üí° ËæìÂÖ•‰∏≠ÊñáÂêé‰ºöËá™Âä®ÁîüÊàêÂç°ÁâáÔºåÊó†ÈúÄÁÇπÂáªÊåâÈíÆ
                    </div>
                </div>

                <!-- Quick Emoji Picker -->
                <div style="background: white; padding: 15px; border-radius: 18px; margin-bottom: 20px;">
                    <h5 style="margin-bottom: 10px; color: #888;">üé® ÈÄâÊã©ÂõæÁâá</h5>
                    <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                        ${['üçé','üçå','üçá','üçä','ü•õ','üçû','üç≥','üßÄ','üçé','üçó','üçï','üç¶'].map(e =>
                          `<span onclick="selectEmoji('${e}')" style="font-size: 28px; cursor: pointer; padding: 5px; border-radius: 8px; transition: all 0.2s;"
                           onmouseover="this.style.background='#f0f0f0'" onmouseout="this.style.background='transparent'">${e}</span>`
                        ).join('')}
                    </div>
                    <h5 style="margin: 15px 0 10px; color: #888;">üê∂ Âä®Áâ©</h5>
                    <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                        ${['üê∂','üê±','üê∞','üêª','üêº','üê®','üêØ','ü¶Å','üê∏','üê∑','üêî','ü¶ã'].map(e =>
                          `<span onclick="selectEmoji('${e}')" style="font-size: 28px; cursor: pointer; padding: 5px; border-radius: 8px; transition: all 0.2s;"
                           onmouseover="this.style.background='#f0f0f0'" onmouseout="this.style.background='transparent'">${e}</span>`
                        ).join('')}
                    </div>
                    <h5 style="margin: 15px 0 10px; color: #888;">üöó ‰∫§ÈÄö</h5>
                    <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                        ${['üöó','üöå','üöÇ','‚úàÔ∏è','üöÄ','üö≤','üõ¥','üö¢','üöö','üèéÔ∏è','üõ∂','üöú'].map(e =>
                          `<span onclick="selectEmoji('${e}')" style="font-size: 28px; cursor: pointer; padding: 5px; border-radius: 8px; transition: all 0.2s;"
                           onmouseover="this.style.background='#f0f0f0'" onmouseout="this.style.background='transparent'">${e}</span>`
                        ).join('')}
                    </div>
                    <h5 style="margin: 15px 0 10px; color: #888;">üòä ÂøÉÊÉÖ</h5>
                    <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                        ${['üòä','üòÑ','ü•∞','üòé','ü§©','üò¥','ü§ó','üòÉ','üåü','üí´','üéâ','üíñ'].map(e =>
                          `<span onclick="selectEmoji('${e}')" style="font-size: 28px; cursor: pointer; padding: 5px; border-radius: 8px; transition: all 0.2s;"
                           onmouseover="this.style.background='#f0f0f0'" onmouseout="this.style.background='transparent'">${e}</span>`
                        ).join('')}
                    </div>
                </div>

                <!-- Generated Word Card -->
                <div id="generatedCard" style="display: none; background: white; border-radius: 22px; padding: 25px; text-align: center; box-shadow: 0 8px 30px rgba(0,0,0,0.1);">
                    <div id="generatedEmoji" style="font-size: 80px; margin-bottom: 15px;"></div>
                    <div id="generatedChinese" style="font-size: 24px; font-weight: bold; margin-bottom: 8px;"></div>
                    <div id="generatedEnglish" style="font-size: 32px; font-weight: bold; color: var(--sps-blue); margin-bottom: 8px;"></div>
                    <div id="generatedPhonetic" style="font-size: 16px; color: #999; font-style: italic; margin-bottom: 20px;"></div>
                    <button onclick="speakGeneratedWord()" style="
                        padding: 14px 35px; background: linear-gradient(135deg, var(--sps-blue), #5DADE2);
                        color: white; border: none; border-radius: 28px; font-size: 16px; font-weight: bold;
                        cursor: pointer; display: inline-flex; align-items: center; gap: 8px;">
                        üîä ÁÇπÂáªÊúóËØª
                    </button>
                    <button onclick="addToWords()" style="
                        padding: 14px 25px; background: var(--sps-green);
                        color: white; border: none; border-radius: 28px; font-size: 16px; font-weight: bold;
                        cursor: pointer; display: inline-flex; align-items: center; gap: 8px; margin-left: 10px;">
                        ‚ûï Ê∑ªÂä†Âà∞ÂçïËØçË°®
                    </button>
                </div>

                <!-- My Words List -->
                <div style="background: white; border-radius: 22px; padding: 20px; margin-top: 20px;">
                    <h4 style="margin-bottom: 15px; color: var(--sps-purple);">üìö ÊàëÊ∑ªÂä†ÁöÑÂçïËØç</h4>
                    <div id="myWordsList" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 12px;">
                        <!-- Words will be listed here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Dialogue Tab -->
        <div class="tab-content" id="dialogue">
            <div class="section-title">üí¨ Âíå Carl ÂØπËØù</div>

            <div class="dialogue-container">
                <div class="dialogue-header">
                    <div class="dialogue-avatar">
                        <div class="duoduo" style="width: 100%; height: 100%;">
                            <div class="duoduo-hat"></div>
                            <div class="duoduo-head">
                                <div class="duoduo-eyes">
                                    <div class="duoduo-eye"></div>
                                    <div class="duoduo-eye"></div>
                                </div>
                                <div class="duoduo-cheeks">
                                    <div class="duoduo-cheek"></div>
                                    <div class="duoduo-cheek"></div>
                                </div>
                                <div class="duoduo-mouth"></div>
                            </div>
                            <div class="duoduo-suspender left"></div>
                            <div class="duoduo-suspender right"></div>
                            <div class="duoduo-body"></div>
                            <div class="duoduo-shirt"></div>
                        </div>
                    </div>
                    <div class="dialogue-title">
                        <h3>üåà Â§öÂ§ö ËÄÅÂ∏à</h3>
                        <p>ÁÇπÂáªÊåâÈíÆÊàñËæìÂÖ•ÊÉ≥ËØ¥ÁöÑËØùÔΩû</p>
                    </div>
                </div>

                <div class="dialogue-messages" id="dialogueMessages">
                    <div class="message ai">
                        <div class="message-avatar" style="background: var(--sps-blue);">
                            <div class="duoduo" style="width: 100%; height: 100%; transform: scale(0.6); transform-origin: center;">
                                <div class="duoduo-hat"></div>
                                <div class="duoduo-head">
                                    <div class="duoduo-eyes">
                                        <div class="duoduo-eye"></div>
                                        <div class="duoduo-eye"></div>
                                    </div>
                                    <div class="duoduo-cheeks">
                                        <div class="duoduo-cheek"></div>
                                        <div class="duoduo-cheek"></div>
                                    </div>
                                    <div class="duoduo-mouth"></div>
                                </div>
                                <div class="duoduo-suspender left"></div>
                                <div class="duoduo-suspender right"></div>
                                <div class="duoduo-body"></div>
                                <div class="duoduo-shirt"></div>
                            </div>
                        </div>
                        <div class="message-content">
                            <div class="message-text">
                                Hello! I'm Carl! üëã<br>
                                ‰Ω†Â•ΩÔºÅÊàëÊòØ CarlÔºÅ<br><br>
                                ËÆ©Êàë‰ª¨‰∏ÄËµ∑Â≠¶Ëã±ËØ≠ÂêßÔºÅ
                            </div>
                            ${generateVisualCards(mediaContent.hello.cards)}
                            ${generateVideoRecommend(mediaContent.greeting.video)}
                            <button class="voice-btn" onclick="speakText('Hello! I\\'m Carl! Let\\'s learn English together!')">
                                üîä Âê¨ Carl ËØ¥
                            </button>
                        </div>
                    </div>
                </div>

                <div class="quick-replies">
                    <button class="quick-btn" onclick="quickMessageWithMedia('Carl‰Ω†Â•Ω', 'üëã', 'hello', 'greeting')">üëã ‰Ω†Â•Ω</button>
                    <button class="quick-btn" onclick="quickMessageWithMedia('ÊàëÊÉ≥Â≠¶Êñ∞ÂçïËØç', 'üìö', 'words', 'words')">üìö Â≠¶ÂçïËØç</button>
                    <button class="quick-btn" onclick="quickMessageWithMedia('ÊàëÊÉ≥Âê¨Ê≠å', 'üéµ', 'song', 'song')">üéµ Âê¨Ê≠å</button>
                    <button class="quick-btn" onclick="quickMessageWithMedia('ÂíåÊàëÁé©', 'üß∏', 'play', 'play')">üß∏ Áé©</button>
                </div>

                <div class="input-area">
                    <input type="text" id="messageInput" placeholder="ËæìÂÖ•‰Ω†ÊÉ≥ËØ¥ÁöÑËØù..." onkeypress="handleKeyPress(event)">
                    <button class="send-btn" onclick="sendMessage()">‚û§</button>
                </div>
            </div>
        </div>

        <!-- Progress Tab -->
        <div class="tab-content" id="progress">
            <div class="section-title">üèÜ Â≠¶‰π†ÊàêÂ∞±</div>

            <div class="progress-container">
                <div class="progress-header">
                    <div class="progress-title">
                        <h3>üåü ‰ªäÊó•‰πãÊòü</h3>
                    </div>
                    <div class="stars-container">
                        <span class="star filled">‚≠ê</span>
                        <span class="star filled">‚≠ê</span>
                        <span class="star filled">‚≠ê</span>
                        <span class="star filled">‚≠ê</span>
                        <span class="star">‚≠ê</span>
                    </div>
                </div>

                <div class="progress-bar-container">
                    <div class="progress-bar-fill" style="width: 68%;"></div>
                </div>

                <div class="progress-stats">
                    <div class="stat-card">
                        <div class="stat-value">28</div>
                        <div class="stat-label">Â∑≤Â≠¶ÂçïËØç</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">10</div>
                        <div class="stat-label">ËøûÁª≠Â§©Êï∞</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">15</div>
                        <div class="stat-label">ËßÇÁúãËßÜÈ¢ë</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">20</div>
                        <div class="stat-label">ÂØπËØùÊ¨°Êï∞</div>
                    </div>
                </div>

                <h4 style="margin-bottom: 15px; color: var(--sps-purple);">üìä ÂàÜÁ±ªËøõÂ∫¶</h4>

                <div class="category-progress">
                    <div class="cat-card">
                        <div class="cat-icon">üë®‚Äçüë©‚Äçüëß</div>
                        <div class="cat-info">
                            <div class="cat-name">ÂÆ∂‰∫∫</div>
                            <div class="cat-bar">
                                <div class="cat-fill easy" style="width: 100%;"></div>
                            </div>
                        </div>
                        <div class="cat-percent">100%</div>
                    </div>

                    <div class="cat-card">
                        <div class="cat-icon">üçé</div>
                        <div class="cat-info">
                            <div class="cat-name">È£üÁâ©</div>
                            <div class="cat-bar">
                                <div class="cat-fill easy" style="width: 85%;"></div>
                            </div>
                        </div>
                        <div class="cat-percent">85%</div>
                    </div>

                    <div class="cat-card">
                        <div class="cat-icon">üê∂</div>
                        <div class="cat-info">
                            <div class="cat-name">Âä®Áâ©</div>
                            <div class="cat-bar">
                                <div class="cat-fill medium" style="width: 70%;"></div>
                            </div>
                        </div>
                        <div class="cat-percent">70%</div>
                    </div>

                    <div class="cat-card">
                        <div class="cat-icon">üéµ</div>
                        <div class="cat-info">
                            <div class="cat-name">Ê≠åÊõ≤</div>
                            <div class="cat-bar">
                                <div class="cat-fill medium" style="width: 60%;"></div>
                            </div>
                        </div>
                        <div class="cat-percent">60%</div>
                    </div>

                    <div class="cat-card">
                        <div class="cat-icon">üëã</div>
                        <div class="cat-info">
                            <div class="cat-name">Âä®‰Ωú</div>
                            <div class="cat-bar">
                                <div class="cat-fill medium" style="width: 55%;"></div>
                            </div>
                        </div>
                        <div class="cat-percent">55%</div>
                    </div>

                    <div class="cat-card">
                        <div class="cat-icon">üé®</div>
                        <div class="cat-info">
                            <div class="cat-name">È¢úËâ≤</div>
                            <div class="cat-bar">
                                <div class="cat-fill hard" style="width: 45%;"></div>
                            </div>
                        </div>
                        <div class="cat-percent">45%</div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        üéµ Â§öÂ§öËã±ËØ≠‰πêÂõ≠ ¬∑ Super Simple Songs È£éÊ†º ¬∑ 0-3Â≤ÅËã±ËØ≠ÂêØËíô
    </footer>

    <!-- Video Modal -->
    <div class="modal" id="videoModal">
        <div class="modal-content" style="max-width: 700px; padding: 20px;">
            <div class="modal-video">
                <iframe id="videoPlayer" src="" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
            <h3 id="videoTitle" style="margin: 15px 0 10px; color: var(--sps-blue);"></h3>
            <button class="modal-close" onclick="closeVideoModal()" style="margin-top: 10px;">ÂÖ≥Èó≠ËßÜÈ¢ë</button>
        </div>
    </div>

    <!-- Word Modal -->
    <div class="modal" id="wordModal">
        <div class="modal-content">
            <div class="modal-image" id="modalImage">üçé</div>
            <div class="modal-word-en" id="modalEnglish">Apple</div>
            <div class="modal-word-cn" id="modalChinese">ËãπÊûú</div>
            <div class="modal-phonetic" id="modalPhonetic">/Àà√¶p.…ôl/</div>
            <button class="speak-btn" onclick="speakModalWord()">
                üîä ÁÇπÂáªÊúóËØª
            </button>
            <button class="modal-close" onclick="closeModal()">ÂÖ≥Èó≠</button>
        </div>
    </div>

    <script>
        // Tab switching
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // Filter buttons
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Show word modal
        function showWord(en, cn, emoji, phonetic) {
            document.getElementById('modalImage').textContent = emoji;
            document.getElementById('modalEnglish').textContent = en;
            document.getElementById('modalChinese').textContent = cn;
            document.getElementById('modalPhonetic').textContent = phonetic;
            document.getElementById('wordModal').classList.add('active');

            setTimeout(() => speakWord(en), 400);
        }

        // Close modal
        function closeModal() {
            document.getElementById('wordModal').classList.remove('active');
            speechSynthesis.cancel();
        }

        // ========== Custom Word Feature ==========
        let selectedEmoji = 'üçé';
        let generatedWordData = null;
        let myWords = JSON.parse(localStorage.getItem('myWords') || '[]');

        // Select emoji
        function selectEmoji(emoji) {
            selectedEmoji = emoji;
            // Visual feedback
            event.target.style.transform = 'scale(1.3)';
            setTimeout(() => {
                event.target.style.transform = 'scale(1)';
            }, 200);
        }

        // Simple Chinese to English dictionary
        const chineseDict = {
            'ËãπÊûú': 'Apple', 'È¶ôËïâ': 'Banana', 'Ëë°ËêÑ': 'Grapes', 'Ê©ôÂ≠ê': 'Orange',
            'ÁâõÂ•∂': 'Milk', 'Èù¢ÂåÖ': 'Bread', 'È∏°Ëõã': 'Egg', 'Â•∂ÈÖ™': 'Cheese',
            'Ê∞¥': 'Water', 'ËÇâ': 'Meat', 'È∏°ËÇâ': 'Chicken', 'Êä´Ëê®': 'Pizza',
            'ÂÜ∞Ê∑áÊ∑ã': 'Ice Cream', 'ËñØÊù°': 'Fries', 'Ê±âÂ†°': 'Hamburger',
            'Â∞èÁãó': 'Dog', 'Â∞èÁå´': 'Cat', 'ÂÖîÂ≠ê': 'Rabbit', 'ÁÜäÁå´': 'Panda',
            'ËÄÅËôé': 'Tiger', 'ÁãÆÂ≠ê': 'Lion', 'Áå¥Â≠ê': 'Monkey', 'Â§ßË±°': 'Elephant',
            'ÈïøÈ¢àÈπø': 'Giraffe', 'ÊñëÈ©¨': 'Zebra', 'Áå™': 'Pig', 'ÈùíËõô': 'Frog',
            'Ëù¥Ëù∂': 'Butterfly', 'È∏ü': 'Bird', 'È±º': 'Fish', '‰πåÈæü': 'Turtle',
            'Ê±ΩËΩ¶': 'Car', 'ÂÖ¨‰∫§ËΩ¶': 'Bus', 'ÁÅ´ËΩ¶': 'Train', 'È£ûÊú∫': 'Airplane',
            'ËΩÆËàπ': 'Ship', 'Ëá™Ë°åËΩ¶': 'Bicycle', 'Êë©ÊâòËΩ¶': 'Motorcycle',
            'Âá∫ÁßüËΩ¶': 'Taxi', 'Âç°ËΩ¶': 'Truck', 'ÊïëÊä§ËΩ¶': 'Ambulance',
            'Â¶àÂ¶à': 'Mommy', 'Áà∏Áà∏': 'Daddy', 'Â•∂Â•∂': 'Grandma', 'Áà∑Áà∑': 'Grandpa',
            'ÂÆùÂÆù': 'Baby', 'ÊúãÂèã': 'Friend', 'ËÄÅÂ∏à': 'Teacher', 'ÂêåÂ≠¶': 'Classmate',
            '‰π¶': 'Book', 'Á¨î': 'Pen', 'ÈìÖÁ¨î': 'Pencil', 'Ê©°ÁöÆ': 'Eraser',
            '‰π¶ÂåÖ': 'Bag', 'Â∞∫Â≠ê': 'Ruler', 'Ââ™ÂàÄ': 'Scissors', 'Êú¨Â≠ê': 'Notebook',
            'Â≠¶Ê†°': 'School', 'ÊïôÂÆ§': 'Classroom', 'ÂÆ∂': 'Home', 'ÊàøÈó¥': 'Room',
            'Èó®': 'Door', 'Á™ó': 'Window', 'Ê°åÂ≠ê': 'Table', 'Ê§ÖÂ≠ê': 'Chair',
            'Â∫ä': 'Bed', 'Ê≤ôÂèë': 'Sofa', 'ÁîµËßÜ': 'TV', 'ÁîµËÑë': 'Computer',
            'Â§™Èò≥': 'Sun', 'Êúà‰∫Æ': 'Moon', 'ÊòüÊòü': 'Star', '‰∫ë': 'Cloud',
            'Èõ®': 'Rain', 'Èõ™': 'Snow', 'È£é': 'Wind', 'Ëä±': 'Flower',
            'Ëçâ': 'Grass', 'Ê†ë': 'Tree', 'Â±±': 'Mountain', 'Ê≤≥': 'River',
            'Êµ∑': 'Sea', 'Ê≤ôÊª©': 'Beach', 'ÊàøÂ≠ê': 'House', 'ÂüéÂ†°': 'Castle',
            'ÂºÄÂøÉ': 'Happy', 'ÈöæËøá': 'Sad', 'ÁîüÊ∞î': 'Angry', 'ÂÆ≥ÊÄï': 'Scared',
            'ÊÉäËÆ∂': 'Surprised', 'Âõ∞‰∫Ü': 'Sleepy', 'È•ø‰∫Ü': 'Hungry', 'Ê∏¥‰∫Ü': 'Thirsty',
            '‰Ω†Â•Ω': 'Hello', 'ÂÜçËßÅ': 'Bye Bye', 'Ë∞¢Ë∞¢': 'Thank You', 'ÂØπ‰∏çËµ∑': 'Sorry',
            'Á∫¢Ëâ≤': 'Red', 'ËìùËâ≤': 'Blue', 'ÈªÑËâ≤': 'Yellow', 'ÁªøËâ≤': 'Green',
            'Á¥´Ëâ≤': 'Purple', 'Ê©ôËâ≤': 'Orange', 'Á≤âËâ≤': 'Pink', 'ÈªëËâ≤': 'Black',
            'ÁôΩËâ≤': 'White', 'Ê£ïËâ≤': 'Brown', 'ÁÅ∞Ëâ≤': 'Gray',
            '‰∏Ä': 'One', '‰∫å': 'Two', '‰∏â': 'Three', 'Âõõ': 'Four',
            '‰∫î': 'Five', 'ÂÖ≠': 'Six', '‰∏É': 'Seven', 'ÂÖ´': 'Eight',
            '‰πù': 'Nine', 'ÂçÅ': 'Ten',
            'Á∫¢Ëâ≤': 'Red', 'ËìùËâ≤': 'Blue', 'ÈªÑËâ≤': 'Yellow', 'ÁªøËâ≤': 'Green'
        };

        // Generate phonetic symbols (simplified)
        function generatePhonetic(word) {
            const phoneticMap = {
                'Apple': '/Àà√¶p.…ôl/', 'Banana': '/b…ôÀàn√¶n.…ô/', 'Grapes': '/…°re…™ps/',
                'Orange': '/Àà…ír.…™nd í/', 'Milk': '/m…™lk/', 'Bread': '/bred/',
                'Egg': '/e…°/', 'Cheese': '/t ÉiÀêz/', 'Water': '/Ààw…îÀê.t…ôr/',
                'Meat': '/miÀêt/', 'Chicken': '/Ààt É…™k.…™n/', 'Pizza': '/ÀàpiÀêt.s…ô/',
                'Dog': '/d…í…°/', 'Cat': '/k√¶t/', 'Rabbit': '/Ààr√¶b.…™t/', 'Panda': '/Ààp√¶n.d…ô/',
                'Tiger': '/Ààta…™.…°…ôr/', 'Lion': '/la…™.…ôn/', 'Monkey': '/Ààm å≈ã.ki/',
                'Elephant': '/Ààel.…™.f…ônt/', 'Giraffe': '/d í…ôÀàr…ëÀêf/',
                'Car': '/k…ëÀêr/', 'Bus': '/b ås/', 'Train': '/tre…™n/', 'Airplane': '/Ààe…ôr.ple…™n/',
                'Ship': '/ É…™p/', 'Bicycle': '/Ààba…™.s…™.k…ôl/',
                'Mommy': '/Ààm…ím.i/', 'Daddy': '/Ààd√¶d.i/', 'Baby': '/Ààbe…™.bi/',
                'Book': '/b äk/', 'Pen': '/pen/', 'Pencil': '/Ààpen.s…ôl/',
                'School': '/skuÀêl/', 'Home': '/h…ô äm/', 'Room': '/ruÀêm/',
                'Table': '/Ààte…™.b…ôl/', 'Chair': '/t Ée…ôr/', 'Bed': '/bed/',
                'Sun': '/s ån/', 'Moon': '/muÀên/', 'Star': '/st…ëÀêr/',
                'Flower': '/Ààfla ä.…ôr/', 'Tree': '/triÀê/', 'Grass': '/…°r…ëÀês/',
                'Happy': '/Ààh√¶p.i/', 'Hello': '/h…ôÀàl…ô ä/', 'Bye': '/ba…™/',
                'Red': '/red/', 'Blue': '/bluÀê/', 'Yellow': '/Ààjel.…ô ä/', 'Green': '/…°riÀên/',
                'One': '/w ån/', 'Two': '/tuÀê/', 'Three': '/Œ∏riÀê/', 'Four': '/f…îÀêr/',
                'Five': '/fa…™v/', 'Six': '/s…™ks/', 'Seven': '/Ààsev.…ôn/', 'Eight': '/e…™t/',
                'Nine': '/na…™n/', 'Ten': '/ten/'
            };
            return phoneticMap[word] || '/' + word.toLowerCase() + '/';
        }

        // Generate word card
        function generateWordCard() {
            const chinese = document.getElementById('chineseWord').value.trim();
            if (!chinese) {
                alert('ËØ∑ÂÖàËæìÂÖ•‰∏≠ÊñáËØçËØ≠ÔºÅ');
                return;
            }

            // Find English translation
            let english = chineseDict[chinese];
            if (!english) {
                // Try to find partial match
                for (let key in chineseDict) {
                    if (chinese.includes(key) || key.includes(chinese)) {
                        english = chineseDict[key];
                        break;
                    }
                }
            }

            // If still not found, use fallback
            if (!english) {
                english = chinese.charAt(0) + chinese.slice(1).toLowerCase();
            }

            const phonetic = generatePhonetic(english);

            // Store data
            generatedWordData = {
                chinese: chinese,
                english: english,
                phonetic: phonetic,
                emoji: selectedEmoji
            };

            // Show card
            document.getElementById('generatedCard').style.display = 'block';
            document.getElementById('generatedEmoji').textContent = selectedEmoji;
            document.getElementById('generatedChinese').textContent = chinese;
            document.getElementById('generatedEnglish').textContent = english;
            document.getElementById('generatedPhonetic').textContent = phonetic;

            // Auto speak
            setTimeout(() => speakGeneratedWord(), 500);

            // Save to history
            addToHistory(chinese, english, selectedEmoji);
        }

        // Speak generated word
        function speakGeneratedWord() {
            if (generatedWordData) {
                speakWord(generatedWordData.english);
            }
        }

        // Add to words list
        function addToWords() {
            if (!generatedWordData) return;

            // Check if already exists
            const exists = myWords.some(w => w.chinese === generatedWordData.chinese);
            if (exists) {
                alert('Ëøô‰∏™ÂçïËØçÂ∑≤ÁªèÊ∑ªÂä†Ëøá‰∫ÜÔºÅ');
                return;
            }

            // Add to list
            myWords.push(generatedWordData);
            localStorage.setItem('myWords', JSON.stringify(myWords));

            // Update display
            renderMyWords();

            // Celebration effect
            celebrate();

            alert('ÂçïËØçÊ∑ªÂä†ÊàêÂäüÔºÅüéâ');
        }

        // Add to history
        function addToHistory(chinese, english, emoji) {
            const history = JSON.parse(localStorage.getItem('wordHistory') || '[]');
            history.unshift({ chinese, english, emoji, time: new Date().toLocaleDateString() });
            if (history.length > 50) history.pop();
            localStorage.setItem('wordHistory', JSON.stringify(history));
        }

        // Render my words
        function renderMyWords() {
            const container = document.getElementById('myWordsList');
            if (myWords.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #888; grid-column: 1/-1;">ËøòÊ≤°ÊúâÊ∑ªÂä†ÂçïËØçÔºåÂø´Êù•ËØïËØïÂêßÔºÅ</p>';
                return;
            }

            container.innerHTML = myWords.map((w, i) => `
                <div class="card" onclick="speakWord('${w.english}')" style="cursor: pointer;">
                    <span class="card-icon">${w.emoji}</span>
                    <div class="card-title">${w.chinese}</div>
                    <div class="card-en">${w.english}</div>
                </div>
            `).join('');
        }

        // ========== End Custom Word Feature ==========

        // Play video
        function playVideo(title, url) {
            document.getElementById('videoTitle').textContent = title;
            document.getElementById('videoPlayer').src = url;
            document.getElementById('videoModal').classList.add('active');
        }

        // Close video modal
        function closeVideoModal() {
            document.getElementById('videoModal').classList.remove('active');
            document.getElementById('videoPlayer').src = '';
        }

        // Close video modal when clicking outside
        document.getElementById('videoModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeVideoModal();
            }
        });

        // Speak word
        function speakWord(text) {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'en-US';
            utterance.rate = 0.75;
            speechSynthesis.speak(utterance);
        }

        function speakModalWord() {
            const en = document.getElementById('modalEnglish').textContent;
            speakWord(en);
        }

        function speakText(text) {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'en-US';
            utterance.rate = 0.85;
            speechSynthesis.speak(utterance);
        }

        // Media content database
        const mediaContent = {
            apple: {
                cards: [
                    { emoji: 'üçé', word: 'Apple', label: 'ËãπÊûú' },
                    { emoji: 'üçå', word: 'Banana', label: 'È¶ôËïâ' },
                    { emoji: 'üçá', word: 'Grapes', label: 'Ëë°ËêÑ' },
                    { emoji: 'üçä', word: 'Orange', label: 'Ê©ôÂ≠ê' }
                ],
                video: { emoji: 'üçé', title: 'Fruit Song', url: 'https://www.youtube.com/embed/2Y3KqZ2n5NQ' }
            },
            dog: {
                cards: [
                    { emoji: 'üê∂', word: 'Dog', label: 'Â∞èÁãó' },
                    { emoji: 'üê±', word: 'Cat', label: 'Â∞èÁå´' },
                    { emoji: 'üê∞', word: 'Rabbit', label: 'ÂÖîÂ≠ê' },
                    { emoji: 'ü¶Å', word: 'Lion', label: 'ÁãÆÂ≠ê' }
                ],
                video: { emoji: 'ü¶Å', title: 'The Lion Song', url: 'https://www.youtube.com/embed/g3t2fDn4_aQ' }
            },
            animal: {
                cards: [
                    { emoji: 'üê∂', word: 'Dog', label: 'Â∞èÁãó' },
                    { emoji: 'üê±', word: 'Cat', label: 'Â∞èÁå´' },
                    { emoji: 'üê∏', word: 'Frog', label: 'ÈùíËõô' },
                    { emoji: 'üê∑', word: 'Pig', label: 'Â∞èÁå™' }
                ],
                video: { emoji: 'ü¶Å', title: 'The Lion Song', url: 'https://www.youtube.com/embed/g3t2fDn4_aQ' }
            },
            song: {
                cards: [
                    { emoji: 'üéµ', word: 'Song', label: 'Ê≠åÊõ≤' },
                    { emoji: 'üé∂', word: 'Music', label: 'Èü≥‰πê' },
                    { emoji: 'üé§', word: 'Sing', label: 'Âî±Ê≠å' },
                    { emoji: 'üéπ', word: 'Dance', label: 'Ë∑≥Ëàû' }
                ],
                video: { emoji: 'üéµ', title: 'If You\'re Happy', url: 'https://www.youtube.com/embed/oX6D1uT9k9k' }
            },
            greeting: {
                cards: [
                    { emoji: 'üëã', word: 'Hello', label: '‰Ω†Â•Ω' },
                    { emoji: 'üòä', word: 'Happy', label: 'ÂºÄÂøÉ' },
                    { emoji: 'üëã', word: 'Bye Bye', label: 'ÂÜçËßÅ' },
                    { emoji: 'üëç', word: 'Yes', label: 'Â•ΩÁöÑ' }
                ],
                video: { emoji: 'üëã', title: 'Hello Song', url: 'https://www.youtube.com/embed/oX6D1uT9k9k' }
            },
            words: {
                cards: [
                    { emoji: 'üìö', word: 'Book', label: '‰π¶' },
                    { emoji: '‚úèÔ∏è', word: 'Pen', label: 'Á¨î' },
                    { emoji: 'üéí', word: 'Bag', label: '‰π¶ÂåÖ' },
                    { emoji: 'üìñ', word: 'Read', label: 'ÈòÖËØª' }
                ],
                video: { emoji: 'üéµ', title: 'ABC Song', url: 'https://www.youtube.com/embed/0VkuXAEkybk' }
            },
            play: {
                cards: [
                    { emoji: 'üß∏', word: 'Toy', label: 'Áé©ÂÖ∑' },
                    { emoji: '‚öΩ', word: 'Ball', label: 'ÁêÉ' },
                    { emoji: 'üß©', word: 'Game', label: 'Ê∏∏Êàè' },
                    { emoji: 'üé™', word: 'Fun', label: 'ÊúâË∂£' }
                ],
                video: { emoji: 'üéµ', title: 'If You\'re Happy', url: 'https://www.youtube.com/embed/oX6D1uT9k9k' }
            },
            food: {
                cards: [
                    { emoji: 'üçé', word: 'Apple', label: 'ËãπÊûú' },
                    { emoji: 'ü•õ', word: 'Milk', label: 'ÁâõÂ•∂' },
                    { emoji: 'üçû', word: 'Bread', label: 'Èù¢ÂåÖ' },
                    { emoji: 'üç≥', word: 'Egg', label: 'È∏°Ëõã' }
                ],
                video: { emoji: 'üçé', title: 'Fruit Song', url: 'https://www.youtube.com/embed/2Y3KqZ2n5NQ' }
            },
            hello: {
                cards: [
                    { emoji: 'üëã', word: 'Hello', label: '‰Ω†Â•Ω' },
                    { emoji: 'üòä', word: 'Happy', label: 'ÂºÄÂøÉ' },
                    { emoji: 'üåü', word: 'Star', label: 'ÊòüÊòü' },
                    { emoji: 'üéâ', word: 'Great', label: 'Â§™Ê£í‰∫Ü' }
                ],
                video: { emoji: '‚òÄÔ∏è', title: 'Morning Song', url: 'https://www.youtube.com/embed/c2v1pVdFWIY' }
            }
        };

        // Generate visual cards HTML
        function generateVisualCards(cards) {
            let html = '<div class="visual-cards">';
            cards.forEach(card => {
                html += `
                    <div class="visual-card" onclick="showWord('${card.word}', '${card.label}', '${card.emoji}', '/${card.word.toLowerCase()}/')">
                        <div class="emoji">${card.emoji}</div>
                        <div class="word">${card.word}</div>
                        <div class="label">${card.label}</div>
                    </div>
                `;
            });
            html += '</div>';
            return html;
        }

        // Generate video recommendation HTML
        function generateVideoRecommend(video) {
            return `
                <div class="video-recommend" onclick="playVideo('${video.title}', '${video.url}')">
                    <div class="thumb">${video.emoji}</div>
                    <div class="info">
                        <div class="title">üé¨ ${video.title}</div>
                        <div class="desc">ÁÇπÂáªËßÇÁúãÁõ∏ÂÖ≥ËßÜÈ¢ë</div>
                    </div>
                    <div class="play-icon">‚ñ∂</div>
                </div>
            `;
        }

        // Quick message with media
        function quickMessageWithMedia(text, emoji, keyword, type) {
            const messages = document.getElementById('dialogueMessages');

            // User message
            const userMsg = document.createElement('div');
            userMsg.className = 'message user';
            userMsg.innerHTML = `
                <div class="message-avatar">üë∂</div>
                <div class="message-content">
                    <div class="message-text">${text}</div>
                </div>
            `;
            messages.appendChild(userMsg);
            messages.scrollTop = messages.scrollHeight;

            // AI response with media
            setTimeout(() => {
                let response = getResponse(text, keyword, type);
                const aiMsg = document.createElement('div');
                aiMsg.className = 'message ai';
                aiMsg.innerHTML = `
                    <div class="message-avatar" style="background: var(--sps-blue);">
                        <div class="duoduo" style="width: 100%; height: 100%; transform: scale(0.6); transform-origin: center;">
                            <div class="duoduo-hat"></div>
                            <div class="duoduo-head">
                                <div class="duoduo-eyes">
                                    <div class="duoduo-eye"></div>
                                    <div class="duoduo-eye"></div>
                                </div>
                                <div class="duoduo-cheeks">
                                    <div class="duoduo-cheek"></div>
                                    <div class="duoduo-cheek"></div>
                                </div>
                                <div class="duoduo-mouth"></div>
                            </div>
                            <div class="duoduo-suspender left"></div>
                            <div class="duoduo-suspender right"></div>
                            <div class="duoduo-body"></div>
                            <div class="duoduo-shirt"></div>
                        </div>
                    </div>
                    <div class="message-content">
                        <div class="message-text">
                            ${response.en}<br><br>
                            ${response.cn}
                        </div>
                        ${generateVisualCards(response.cards)}
                        ${generateVideoRecommend(response.video)}
                        <button class="voice-btn" onclick="speakText('${response.en.replace(/'/g, "\\'").replace(/\n/g, " ")}')">
                            üîä Âê¨ Carl ËØ¥
                        </button>
                    </div>
                `;
                messages.appendChild(aiMsg);
                messages.scrollTop = messages.scrollHeight;
            }, 600);
        }

        // Get response data
        function getResponse(text, keyword, type) {
            const appleEn = "Apple! üçé Yummy! Apple is delicious!";
            const appleCn = "ËãπÊûúÔºÅÂ•ΩÂêÉÔºÅ";

            const responses = {
                apple: {
                    en: appleEn,
                    cn: appleCn,
                    cards: mediaContent.apple.cards,
                    video: mediaContent.apple.video
                },
                dog: {
                    en: "Dog! üê∂ Woof woof! Dogs are cute!",
                    cn: "Â∞èÁãóÔºÅÊ±™Ê±™ÔºÅÂ∞èÁãóÂæàÂèØÁà±ÔºÅ",
                    cards: mediaContent.dog.cards,
                    video: mediaContent.dog.video
                },
                animal: {
                    en: "Animals! üê∂üê± Many cute animals!",
                    cn: "Âä®Áâ©ÔºÅÂ•ΩÂ§öÂèØÁà±ÁöÑÂ∞èÂä®Áâ©ÔºÅ",
                    cards: mediaContent.animal.cards,
                    video: mediaContent.animal.video
                },
                song: {
                    en: "Sing! üéµ La la la! Let's sing together!",
                    cn: "Âî±Ê≠åÔºÅÂï¶Âï¶Âï¶ÔºÅÊàë‰ª¨‰∏ÄËµ∑Âî±ÔºÅ",
                    cards: mediaContent.song.cards,
                    video: mediaContent.song.video
                },
                greeting: {
                    en: "Hello! üëã How are you today?",
                    cn: "‰Ω†Â•ΩÔºÅ‰ªäÂ§©Â•ΩÂêóÔºü",
                    cards: mediaContent.greeting.cards,
                    video: mediaContent.greeting.video
                },
                words: {
                    en: "Learn! üìö New words are fun!",
                    cn: "Â≠¶‰π†ÔºÅÊñ∞ÂçïËØçÂæàÊúâË∂£ÔºÅ",
                    cards: mediaContent.words.cards,
                    video: mediaContent.words.video
                },
                play: {
                    en: "Play! üß∏ Let's have fun together!",
                    cn: "Áé©ÔºÅÊàë‰ª¨‰∏ÄËµ∑Áé©ÔºÅ",
                    cards: mediaContent.play.cards,
                    video: mediaContent.play.video
                },
                food: {
                    en: appleEn,
                    cn: appleCn,
                    cards: mediaContent.food.cards,
                    video: mediaContent.food.video
                },
                hello: {
                    en: "Hello! üëã Good to see you!",
                    cn: "‰Ω†Â•ΩÔºÅËßÅÂà∞‰Ω†ÁúüÂºÄÂøÉÔºÅ",
                    cards: mediaContent.hello.cards,
                    video: mediaContent.hello.video
                }
            };

            return responses[keyword] || responses.hello;
        }

        // Original quickMessage for custom input
        function quickMessage(text) {
            const messages = document.getElementById('dialogueMessages');

            const userMsg = document.createElement('div');
            userMsg.className = 'message user';
            userMsg.innerHTML = `
                <div class="message-avatar">üë∂</div>
                <div class="message-content">
                    <div class="message-text">${text}</div>
                </div>
            `;
            messages.appendChild(userMsg);
            messages.scrollTop = messages.scrollHeight;

            // Determine keyword from input
            let keyword = 'hello';
            let type = 'greeting';

            if (text.includes('ËãπÊûú') || text.includes('ÂêÉ') || text.includes('Ê∞¥Êûú')) {
                keyword = 'apple'; type = 'food';
            } else if (text.includes('Áãó') || text.includes('Âä®Áâ©') || text.includes('Â∞èÁå´')) {
                keyword = 'dog'; type = 'animal';
            } else if (text.includes('Ê≠å') || text.includes('Âî±')) {
                keyword = 'song'; type = 'song';
            } else if (text.includes('‰Ω†Â•Ω') || text.includes('Âó®')) {
                keyword = 'hello'; type = 'greeting';
            } else if (text.includes('ÂçïËØç') || text.includes('Â≠¶') || text.includes('Êñ∞')) {
                keyword = 'words'; type = 'words';
            } else if (text.includes('Áé©') || text.includes('Ê∏∏Êàè')) {
                keyword = 'play'; type = 'play';
            } else if (text.includes('ÂêÉ') || text.includes('Âñù')) {
                keyword = 'food'; type = 'food';
            }

            // AI response with media
            setTimeout(() => {
                let response = getResponse(text, keyword, type);
                const aiMsg = document.createElement('div');
                aiMsg.className = 'message ai';
                aiMsg.innerHTML = `
                    <div class="message-avatar" style="background: var(--sps-blue);">
                        <div class="duoduo" style="width: 100%; height: 100%; transform: scale(0.6); transform-origin: center;">
                            <div class="duoduo-hat"></div>
                            <div class="duoduo-head">
                                <div class="duoduo-eyes">
                                    <div class="duoduo-eye"></div>
                                    <div class="duoduo-eye"></div>
                                </div>
                                <div class="duoduo-cheeks">
                                    <div class="duoduo-cheek"></div>
                                    <div class="duoduo-cheek"></div>
                                </div>
                                <div class="duoduo-mouth"></div>
                            </div>
                            <div class="duoduo-suspender left"></div>
                            <div class="duoduo-suspender right"></div>
                            <div class="duoduo-body"></div>
                            <div class="duoduo-shirt"></div>
                        </div>
                    </div>
                    <div class="message-content">
                        <div class="message-text">
                            ${response.en}<br><br>
                            ${response.cn}
                        </div>
                        ${generateVisualCards(response.cards)}
                        ${generateVideoRecommend(response.video)}
                        <button class="voice-btn" onclick="speakText('${response.en.replace(/'/g, "\\'").replace(/\n/g, " ")}')">
                            üîä Âê¨ Carl ËØ¥
                        </button>
                    </div>
                `;
                messages.appendChild(aiMsg);
                messages.scrollTop = messages.scrollHeight;
            }, 600);
        }

        // Send message
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const text = input.value.trim();
            if (text) {
                quickMessage(text);
                input.value = '';
            }
        }

        // Handle enter key
        function handleKeyPress(event) {
            if ( event.key === 'Enter') {
                sendMessage();
            }
        }

        // Celebration
        document.querySelectorAll('.card').forEach(card => {
            card.addEventListener('click', function() {
                celebrate();
            });
        });

        // Initialize my words list
        renderMyWords();

        function renderMyWords() {
            const container = document.getElementById('myWordsList');
            if (!container) return;

            if (myWords.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #888; grid-column: 1/-1; padding: 20px;">ËøòÊ≤°ÊúâÊ∑ªÂä†ÂçïËØçÔºåËæìÂÖ•‰∏≠ÊñáÈÄâÊã©ÂõæÁâáËØïËØïÂêßÔºÅ</p>';
                return;
            }

            container.innerHTML = myWords.map((w, i) => `
                <div class="card" onclick="speakWord('${w.english}')" style="cursor: pointer;">
                    <span class="card-icon">${w.emoji}</span>
                    <div class="card-title">${w.chinese}</div>
                    <div class="card-en">${w.english}</div>
                </div>
            `).join('');
        }

        function celebrate() {
            const celebration = document.createElement('div');
            celebration.className = 'celebration';
            document.body.appendChild(celebration);

            const colors = ['#FF6B6B', '#4ECDC4', '#FFD93D', '#A29BFE', '#6BCB77'];

            for (let i = 0; i < 40; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = Math.random() * 1.5 + 's';
                celebration.appendChild(confetti);
            }

            setTimeout(() => {
                celebration.remove();
            }, 4000);
        }
    </script>
</body>
</html>
